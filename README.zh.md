实现外设（例如UART）的DMA可以显着提高性能，同时降低MCU（微控制器）内核的工作负载[1]，因此外设配置DMA控制器可以很简单。
然而，在时间关键的系统或硬实时系统中，至关重要的是在规定的期限内执行所需的操作。
DMA控制器只能在其缓冲区已满或中途满时发出中断，但是考虑到UART通信，在大多数情况下，接收的数据量预先不知道，并且无法检测到传输结束。
因此，当来自外设的传输以部分填充的DMA缓冲器结束，并且在一定时间段内不再接收到数据时，必须实现DMA超时以便处理剩余的数据。 
DMA超时意味着当满足以下条件时，会生成可检测事件（例如中断）：1）DMA缓冲区未满，2）在一定时间后不再接收到数据。

ST提出了在AN3019 [2]的第2节中实现DMA超时的两种方法。第一种方法利用输入捕捉模式下的定时器。
虽然这种方法是有效的，它需要一个可用的硬件定时器和附加的布线。第二种方法不需要硬件更改和附加外设，而是使用系统定时器并使用UART接收中断。
这种方法的缺点是在传输过程中经常调用UART中断服务程序，特别是当配置的超时时间短时。这给系统带来了显着的开销，并对性能和效率产生了负面影响。

在这个演示中，提出了一个更有效的想法来实现DMA超时。 UART外设可以配置为在UART模块检测到空闲线路（发送结束）时产生中断。
产生空闲线路中断后，直到接收到新的数据为止，才能再次生成。 （有关空闲线路检测和中断生成如何工作的更多信息，请参阅[3]。）
检测到空闲线路后，软件定时器将以用户定义的周期开始。如果在此期间内没有产生DMA传输完成中断，则会产生DMA超时事件，并且可以处理DMA缓冲区中的新数据。
该方法提供了一种有效的方法来实现DMA超时，并通过在传输结束后生成一个额外的中断（UART空闲线路中断）来最小化开销。
